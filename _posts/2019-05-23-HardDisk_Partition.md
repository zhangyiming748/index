---
layout:     post                    # 使用的布局(不需要改)
title:      为什么不建议对硬盘分区?              # 标题
subtitle:   万里悲秋常作客,双键能使溴褪色  #副标题
date:       2019-05-23              # 时间
author:     Zen                      # 作者
header-img: img/pet/supremelysab-787607-unsplash.webp   #这篇文章标题背景图片
catalog: False                       # 是否归档
tags:                               #标签
    - 常识
---
##### 以下说的不要分区,如无特殊说明指的就是不要在系统所在磁盘上分区.
----
今天遇到个问题:我已经把程序装在D盘了,为什么我的C盘空间还是在变小?

这是个好问题,那么我先从原理来说,假设你把软件装在其他分区,启动过程大致如下:查找C盘注册表,找到程序所在位置,从真实位置复制必要文件到C盘(通常会放在%userprofile%\AppData),装入内存运行,并且在需要的时候重复复制的操作,对于机械硬盘来说,一块机械硬盘只有一个磁头,同一时间只能访问一个位置,复制过程实际上就是拿起来->装入缓存->放下,你可以从同一块磁盘复制粘贴和磁盘间复制粘贴的速度差别体会到,有些人说我不在乎时间,我玩电脑就是消磨时间的,那么如果你有固态呢?消磨钱么?固态硬盘上的NAND芯片是有寿命的,分区不但会导致机械硬盘同样存在的时间问题,也是影响寿命的极大隐患,NAND芯片可以实例化为一个棋盘,每次读写相当于放一枚棋子,因为保存的是电信号,每次刷新的是整个"块"(整个棋盘),一个NAND芯片中有很多"块",主控芯片要做的就是尽力保证每次读写使用最少的块,让硬盘整体挂掉之前每个块都被充分利用,而分区操作就是人为破坏这个解决方案,假设正好分在了边缘位置,存一个连续的两枚棋子有可能正好被放在两个棋盘的连接处,相当于刷新了两个块,可用寿命双倍的速度下降,如果你买的固态没设定冗余空间的话,只要有一个坏块,硬盘整体就坏了.至于安装软件如果同一块磁盘安装(系统C 软件D)程序会建立在%userprofile%\appdata的硬链接,程序启动时还要复制到C,本来就有寿命的东西你为什么还要人为去设置一些本身不需要的写入操作?

如果你不想也不愿意了解原理的话,以下是直观感受.

在XP时期,我记得我第一个电脑只有20G硬盘,那时候装完系统就没多少空间了,游戏也只能是下一个玩一个删一个再下,那时候网速也慢,但是游戏是真用心做(泪目),那时候的文件夹规划还不完善,分区完全是为了管理个人文档,任何时候的初衷都不是为了分区来安装软件,c:\windows和c:\program默认隐藏也是很好的佐证.
这同时也是个历史遗留问题,当时的硬盘普遍较小,刚普及到国内的计算机恰巧也是Windows XP系统,而页面文件默认在c盘,维修人员不会苦口婆心地跟每一个电脑使用者讲这东西应该怎么管理,告诉他们分区能省下半小时的时间
