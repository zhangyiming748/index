---
layout:     post                    # 使用的布局(不需要改)
title:      常用命令记录             # 标题
subtitle:   <!-- subtitle --> #副标题
date:       2019-10-11 00:00:00 GMT+0800             # 时间
author:     Zen                 # 作者
header-img: img/photo/jiuzhaigou.webp    #这篇文章标题背景图片
catalog: True                       # 是否归档
tags:                               #标签
    - 常识
---

纯粹个人记录

----

# 合成M4S
`ffmpeg -i video.m4s -i audio.m4s -codec copy multi.mp4`

# youtube-dl

`/usr/local/bin/youtube-dl --proxy 127.0.0.1:1086 -f 'bestvideo[height=1080]+bestaudio/best[height<=480]' <url>`

`/usr/local/bin/youtube-dl --proxy 127.0.0.1:1080 -f 'bestvideo[height=720]+bestaudio/best[height=720]' <url>`

`sudo /usr/local/bin/youtube-dl --proxy 127.0.0.1:1080 -f bestvideo+bestaudio <url>`

`./youtube-dl --proxy 127.0.0.1:1080 -f bestvideo+bestaudio <url>`

`/usr/local/bin/youtube-dl --proxy 127.0.0.1:1080 -f bestvideo+bestaudio <url>`

`/usr/local/bin/youtube-dl --proxy 127.0.0.1:1080 --write-sub --all-subs -i -f bestvideo+bestaudio <url>`

`/usr/local/bin/youtube-dl <url>`

`youtube-dl --proxy 127.0.0.1:1087 --write-sub --all-subs -i -f bestvideo+bestaudio <url>`

`--no-check-certificate`

`youtube-dl --proxy 127.0.0.1:1087 <url>`

`youtube-dl --proxy 127.0.0.1:1087 -f bestvideo+bestaudio https://www.youtube.com/watch?v=_fPhQLM4Iac`

`youtube-dl --no-check-certificate --proxy 127.0.0.1:8889 -f bestvideo+bestaudio https://www.youtube.com/watch?v=_fPhQLM4Iac`

# 组策略

`gpupdate /force`

# shell

## 查找相关


### find

find是最常见和最强大的查找命令,你可以用它找到任何你想找的文件

#### find的使用格式如下:

`$ find <指定目录> <指定条件> <指定动作>`
+ <指定目录>:所要搜索的目录及其所有子目录,默认为当前目录
+ <指定条件>:所要搜索的文件的特征
+ <指定动作>:对搜索结果进行特定的处理

如果什么参数也不加,find默认搜索当前目录及其子目录,并且不过滤任何结果(也就是返回所有文件),将它们全都显示在屏幕上

#### find的使用实例:

`$ find . -name 'my*'`

搜索当前目录(含子目录,以下同)中,所有文件名以my开头的文件

`$ find . -name 'my*' -ls`

搜索当前目录中,所有文件名以my开头的文件,并显示它们的详细信息

`$ find . -type f -mmin -10`

搜索当前目录中,所有过去10分钟中更新过的普通文件,如果不加-type f参数,则搜索普通文件+特殊文件+目录

### locate

locate命令其实是`find -name`的另一种写法,但是要比后者快得多,原因在于它不搜索具体目录,而是搜索一个数据库(/var/lib/locatedb),这个数据库中含有本地所有文件信息,Linux系统自动创建这个数据库,并且每天自动更新一次,所以使用locate命令查不到最新变动过的文件,为了避免这种情况,可以在使用locate之前,先使用`updatedb`命令,手动更新数据库

####locate命令的使用实例:

`$ locate /etc/sh`

搜索etc目录下所有以sh开头的文件:

`$ locate ~/m`

搜索用户主目录下,所有以m开头的文件

`$ locate -i ~/m`

搜索用户主目录下,所有以m开头的文件,并且忽略大小写

### whereis

whereis命令只能用于程序名的搜索,而且只搜索二进制文件(参数-b)\man说明文件(参数-m)和源代码文件(参数-s)如果省略参数,则返回所有信息

#### whereis命令的使用实例:

`$ whereis grep`

### which

which命令的作用是,在PATH变量指定的路径中,搜索某个系统命令的位置,并且返回第一个搜索结果也就是说,使用which命令,就可以看到某个系统命令是否存在,以及执行的到底是哪一个位置的命令

#### which命令的使用实例:

`$ which grep`

### type

type命令其实不能算查找命令,它是用来区分某个命令到底是由shell自带的,还是由shell外部的独立二进制文件提供的
如果一个命令是外部命令,那么使用-p参数,会显示该命令的路径,相当于which命令

#### type命令的使用实例:

`$ type cd`

系统会提示,cd是shell的自带命令(build-in)

`$ type grep`

系统会提示,grep是一个外部命令,并显示该命令的路径

`$ type -p grep`

加上-p参数后,就相当于which命令


### ffmpeg批量转换格式

`for %a in ("*.mp4") do ffmpeg -i "%a" "%~na.gif"`

### ffmpeg旋转视频

ffmpeg -i <inputfile> -vf "transpose=2,transpose=2" <outputfile>

`ffmpeg -i 4.avi -vf "transpose=1" 4done.avi`

其中transpose取值:

0 = 90CounterCLockwise and Vertical Flip (default)
1 = 90Clockwise
2 = 90CounterClockwise
3 = 90Clockwise and Vertical Flip

### ffmpeg音视频合并

`ffmpeg -i video.mp4 -i audio.wav -c:v copy -c:a aac -strict experimental output.mp4`

### 抽取音频命令
ffmpeg -i 3.mp4 -vn -y -acodec copy 3.aac
ffmpeg -i 3.mp4 -vn -y -acodec copy 3.m4a

### 提取视频 （Extract Video）
ffmpeg -i Life.of.Pi.has.subtitles.mkv -vcodec copy –an  videoNoAudioSubtitle.mp4

### ffmpeg替换音频合并

`ffmpeg -i video.mp4 -i audio.wav -c:v copy -c:a aac -strict experimental
-map 0:v:0 -map 1:a:0 output.mp4`

### ffmpeg获取视频音频

`ffmpeg -i input.mp4 -vn -y -acodec copy output.m4a`

### ffmpeg去除视频音频

`ffmpeg -i input.mp4 -an output.mp4`

### 抽取音频命令
ffmpeg -i 3.mp4 -vn -y -acodec copy 3.aac
ffmpeg -i 3.mp4 -vn -y -acodec copy 3.m4a


### 提取视频 （Extract Video）
ffmpeg -i Life.of.Pi.has.subtitles.mkv -vcodec copy –an  videoNoAudioSubtitle.mp4

### macOS仅复制文件目录
`find ./1-1 -type d -exec mkdir ./des/{} \;`

参数：
  -type d : 表示只差早目录
  -exec <命令> 空格\;  : 表示把前面查找的结果输入到命令中作为参数，{}会被替换成搜索结果，必须\;结尾
  ./1-1 : 目标目录，这里可以使绝对路径，可以写相对路径
  ./des/{} : 表示把结果拷贝到 "./des/....."中
